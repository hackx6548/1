<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <title>Change</title>
  </head>

  <body>
    <nav class="navbar" style="background-color:#152934">
      <div class="navbar-brand">
        <h1 class="title is-1" style="color: #dee1e3">Modify Restaurant: <%=r.name%></h1>
      </div>
    </nav>

    <div class="section">
      <form action='/change' method='post' enctype="multipart/form-data">

        <div class="field">
          <label class="label">Restaurant name:</label>
          <div class="control">
            <input name="name" class="input" type="text" required="required" value=<%=r.name%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Borough:</label>
          <div class="control">
            <input name="borough" class="input" type="text" value=<%=r.borough%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Cuisine:</label>
          <div class="control">
            <input name="cuisine" class="input" type="text" value=<%=r.cuisine%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Photo (upload another photo to replace this one):</label>
          <div class="control">
            <input type="file" name="photo"/>
          </div>
        </div>
        <% if (r.photo != null) { %>
          <img src="data:<%=r.photo.mimetype%>;base64,<%=r.photo.image%>" width="50%" height="50%" alt="base64"/><br>
        <% } %>

        <div class="field">
          <label class="label">Street:</label>
          <div class="control">
            <input name="street" class="input" type="text" value=<%=r.address.street%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Building:</label>
          <div class="control">
            <input name="building" class="input" type="text" value=<%=r.address.building%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Zipcode:</label>
          <div class="control">
            <input name="zipcode" class="input" type="text" value=<%=r.address.zipcode%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Coordinate X:</label>
          <div class="control">
            <input type="number" step="any" name="coordX" value=<%=r.address.coord.coordX%> >
          </div>
        </div>

        <div class="field">
          <label class="label">Coordinate Y:</label>
          <div class="control">
            <input type="number" step="any" name="coordY" value=<%=r.address.coord.coordY%> >
          </div>
        </div>

        <div class="field is-grouped">
          <div class="control">
            <button class="button is-link">Modify</button>
          </div>
        </div>

        <div class="control">
          <a class="button is-text" href="/read">Back</a>
        </div>

        <input type="hidden" name="_id" value=<%=r._id%> >
      </form>
    </div>
  </body>
</html>
